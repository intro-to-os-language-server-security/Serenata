parameters:


services:
    cacheClearingEventMediator.clearableCache:
        class: PhpIntegrator\Analysis\ClearableCacheCollection
        arguments:
            -
                - '@classlikeExistenceChecker'
                - '@globalFunctionExistenceChecker'
                - '@globalConstantExistenceChecker'
                - '@fileTypeResolverFactory.cachingDecorator'
                - '@fileClassListProvider.cachingDecorator'
                - '@namespaceImportProvider.cachingDecorator'

    cacheClearingEventMediator:
        class: PhpIntegrator\Mediating\CacheClearingEventMediator
        arguments:
            - '@cacheClearingEventMediator.clearableCache'
            - '@indexer'
            - !php/const:PhpIntegrator\Indexing\Indexer::INDEXING_SUCCEEDED_EVENT
