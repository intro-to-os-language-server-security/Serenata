parameters:


services:
    functionAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\FunctionAutocompletionProvider
        arguments:
            - '@functionListProvider'

    applicabilityCheckingFunctionAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingFunctionAutocompletionProvider
        arguments:
            - '@functionAutocompletionProvider'
            - '@parser'

    constantAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ConstantAutocompletionProvider
        arguments:
            - '@constantListProvider'

    applicabilityCheckingConstantAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingConstantAutocompletionProvider
        arguments:
            - '@constantAutocompletionProvider'
            - '@parser'

    nonStaticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\NonStaticMethodAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    applicabilityCheckingNonStaticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingNonStaticMethodAutocompletionProvider
        arguments:
            - '@nonStaticMethodAutocompletionProvider'
            - '@parser'

    staticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\StaticMethodAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    applicabilityCheckingStaticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingStaticMethodAutocompletionProvider
        arguments:
            - '@staticMethodAutocompletionProvider'
            - '@parser'

    aggregatingAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\AggregatingAutocompletionProvider
        arguments:
            - '@applicabilityCheckingFunctionAutocompletionProvider'
            - '@applicabilityCheckingConstantAutocompletionProvider'
            - '@applicabilityCheckingNonStaticMethodAutocompletionProvider'
            - '@applicabilityCheckingStaticMethodAutocompletionProvider'

    fuzzyMatchingAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\FuzzyMatchingAutocompletionProvider
        arguments:
            - '@aggregatingAutocompletionProvider'

    limitingAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\LimitingAutocompletionProvider
        arguments:
            - '@fuzzyMatchingAutocompletionProvider'
            - 15

    autocompletionProvider:
        alias: limitingAutocompletionProvider
