parameters:


services:
    keywordAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\KeywordAutocompletionProvider

    keywordAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\KeywordAutocompletionApplicabilityChecker

    applicabilityCheckingKeywordAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@keywordAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@keywordAutocompletionApplicabilityChecker'

    classlikeAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ClasslikeAutocompletionProvider
        arguments:
            - '@classlikeListProvider'

    classlikeAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\ClasslikeAutocompletionApplicabilityChecker

    applicabilityCheckingClasslikeAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@classlikeAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@classlikeAutocompletionApplicabilityChecker'

    namespaceAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\NamespaceAutocompletionProvider
        arguments:
            - '@namespaceListProvider'

    namespaceAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\NamespaceAutocompletionApplicabilityChecker

    applicabilityCheckingNamespaceAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@namespaceAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@namespaceAutocompletionApplicabilityChecker'

    functionAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\FunctionAutocompletionProvider
        arguments:
            - '@functionListProvider'

    functionAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\FunctionAutocompletionApplicabilityChecker

    applicabilityCheckingFunctionAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@functionAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@functionAutocompletionApplicabilityChecker'

    constantAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ConstantAutocompletionProvider
        arguments:
            - '@constantListProvider'

    constantAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\ConstantAutocompletionApplicabilityChecker

    applicabilityCheckingConstantAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@constantAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@constantAutocompletionApplicabilityChecker'

    nonStaticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\NonStaticMethodAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    nonStaticMethodAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\NonStaticMethodAutocompletionApplicabilityChecker

    applicabilityCheckingNonStaticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@nonStaticMethodAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@nonStaticMethodAutocompletionApplicabilityChecker'

    staticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\StaticMethodAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    staticMethodAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\StaticMethodAutocompletionApplicabilityChecker

    applicabilityCheckingStaticMethodAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@staticMethodAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@staticMethodAutocompletionApplicabilityChecker'

    nonStaticPropertyAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\NonStaticPropertyAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    nonStaticPropertyAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\NonStaticPropertyAutocompletionApplicabilityChecker

    applicabilityCheckingNonStaticPropertyAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@nonStaticPropertyAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@nonStaticPropertyAutocompletionApplicabilityChecker'

    staticPropertyAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\StaticPropertyAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    staticPropertyAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\StaticPropertyAutocompletionApplicabilityChecker

    applicabilityCheckingStaticPropertyAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@staticPropertyAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@staticPropertyAutocompletionApplicabilityChecker'

    classConstantAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ClassConstantAutocompletionProvider
        arguments:
            - '@expressionTypeDeducer'
            - '@classlikeInfoBuilder'

    classConstantAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\ClassConstantAutocompletionApplicabilityChecker

    applicabilityCheckingClassConstantAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@classConstantAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@classConstantAutocompletionApplicabilityChecker'

    localVariableAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\LocalVariableAutocompletionProvider
        arguments:
            - '@variableScanner'
            - '@parser'

    localVariableAutocompletionApplicabilityChecker:
        class: PhpIntegrator\Analysis\Autocompletion\LocalVariableAutocompletionApplicabilityChecker

    applicabilityCheckingLocalVariableAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\ApplicabilityCheckingAutocompletionProvider
        arguments:
            - '@localVariableAutocompletionProvider'
            - '@nodeAtOffsetLocator'
            - '@localVariableAutocompletionApplicabilityChecker'

    aggregatingAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\AggregatingAutocompletionProvider
        arguments:
            - '@applicabilityCheckingKeywordAutocompletionProvider'
            - '@applicabilityCheckingClasslikeAutocompletionProvider'
            - '@applicabilityCheckingFunctionAutocompletionProvider'
            - '@applicabilityCheckingConstantAutocompletionProvider'
            - '@applicabilityCheckingNamespaceAutocompletionProvider'
            - '@applicabilityCheckingNonStaticMethodAutocompletionProvider'
            - '@applicabilityCheckingStaticMethodAutocompletionProvider'
            - '@applicabilityCheckingNonStaticPropertyAutocompletionProvider'
            - '@applicabilityCheckingStaticPropertyAutocompletionProvider'
            - '@applicabilityCheckingClassConstantAutocompletionProvider'
            - '@applicabilityCheckingLocalVariableAutocompletionProvider'

    fuzzyMatchingAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\FuzzyMatchingAutocompletionProvider
        arguments:
            - '@aggregatingAutocompletionProvider'

    limitingAutocompletionProvider:
        class: PhpIntegrator\Analysis\Autocompletion\LimitingAutocompletionProvider
        arguments:
            - '@fuzzyMatchingAutocompletionProvider'
            - 15

    autocompletionProvider:
        alias: limitingAutocompletionProvider
